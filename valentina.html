<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>¬°Est√°s invitado al cumplea√±os de Ema Valentina!</title>
    
    <meta name="description" content="¬°Aventura de Cumplea√±os! Ayuda al capibara Valent√≠n a llegar a la fiesta de 5 a√±os de Ema Valentina. Domingo 6 de julio, 4:30 PM.">
    
    <link rel="canonical" href="https://elmejorequipo.github.io/invitacion/valentina">

    <meta property="og:title" content="¬°Aventura de Cumplea√±os de Ema Valentina!">
    <meta property="og:description" content="¬°Est√°s invitado a celebrar los 5 a√±os de Ema! Resuelve las pistas y acomp√°√±anos en la fiesta.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://elmejorequipo.github.io/invitacion/valentina">
    <meta property="og:image" content="https://raw.githubusercontent.com/elmejorequipo/invitacion/main/capibara01.png">
    <meta property="og:site_name" content="Invitaci√≥n de Cumplea√±os">
    <meta property="og:locale" content="es_LA">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="¬°Aventura de Cumplea√±os de Ema Valentina!">
    <meta name="twitter:description" content="¬°Est√°s invitado a celebrar los 5 a√±os de Ema! Resuelve las pistas y acomp√°√±anos en la fiesta.">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/elmejorequipo/invitacion/main/capibara01.png">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SocialEvent",
      "name": "Fiesta de 5 a√±os de Ema Valentina",
      "startDate": "2025-07-06T16:30:00-04:00",
      "eventStatus": "https://schema.org/EventScheduled",
      "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
      "location": {
        "@type": "Place",
        "name": "Domicilio en B. Villa Warnes",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "C. Alberto Ostria N¬∞ 3445",
          "addressLocality": "Santa Cruz de la Sierra",
          "addressCountry": "BO"
        }
      },
      "image": [
        "https://raw.githubusercontent.com/elmejorequipo/invitacion/main/capibara01.png"
       ],
      "description": "Ven a celebrar el cumplea√±os n√∫mero 5 de Ema Valentina con juegos, pastel y una divertida aventura con tem√°tica de capibaras.",
      "organizer": {
        "@type": "Person",
        "name": "Ema Valentina"
      }
    }
    </script>
    
    <style>
        :root{--bg-gradient-start:#a8e6cf;--bg-gradient-end:#dcedc1;--card-bg:#ffffff;--primary-color:#ff8b94;--secondary-color:#63d471;--accent-color:#ffcc5c;--text-color:#5d4037;--input-bg:#f1f1f1}body{font-family:'Fredoka One','Comic Sans MS',cursive;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;padding:20px;background:linear-gradient(45deg,var(--bg-gradient-start),var(--bg-gradient-end));background-size:400% 400%;animation:gradientBG 15s ease infinite;color:var(--text-color);box-sizing:border-box;overflow-x:hidden}@keyframes gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}main.invitacion{background:var(--card-bg);border:5px solid var(--primary-color);border-radius:30px;padding:25px 35px;max-width:500px;width:100%;text-align:center;box-shadow:0 15px 30px rgba(0,0,0,0.15);position:relative;overflow:hidden;animation:fadeInCard 1s ease-out forwards}@keyframes fadeInCard{from{opacity:0;transform:scale(.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}.invitacion::before{content:'üçÉ';position:absolute;top:10px;left:10px;font-size:40px;animation:wiggle 4s ease-in-out infinite}.invitacion::after{content:'‚òÄÔ∏è';position:absolute;top:15px;right:15px;font-size:40px;color:var(--accent-color);animation:spin 10s linear infinite}@keyframes wiggle{0%,100%{transform:rotate(-5deg)}50%{transform:rotate(10deg)}}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}h1{color:var(--primary-color);font-size:2.2em;margin:0 0 10px 0;text-shadow:2px 2px #fff8f8}h2{font-size:2em;color:var(--text-color);margin:15px 0 10px;line-height:1.1}p{font-size:1.1em;line-height:1.5}strong{color:var(--primary-color)}.capibara-imagen{width:180px;height:180px;margin:20px auto 15px;background-size:contain;background-repeat:no-repeat;background-position:center;cursor:pointer;transition:transform .3s ease-in-out;animation:bobbing 3s ease-in-out infinite}@keyframes bobbing{0%,100%{transform:translateY(0)}50%{transform:translateY(-15px)}}.capibara-imagen:hover{transform:scale(1.1) rotate(3deg);animation-play-state:paused}.paso{transition:opacity .5s ease-out,transform .5s ease-out,max-height .8s ease-in-out;max-height:800px;opacity:1;transform:translateY(0);overflow:hidden}.paso.oculto{opacity:0;max-height:0;transform:translateY(20px);pointer-events:none}.pista{background-color:#fff9e6;color:var(--text-color);padding:15px;border-radius:15px;margin:20px 0;border:2px dashed var(--accent-color);font-size:1.1em;line-height:1.6}.opciones-container{display:flex;flex-direction:column;gap:10px;margin-top:15px}.boton-opcion,.boton-jugar{background:linear-gradient(45deg,var(--secondary-color),#81c784);color:white;padding:12px 20px;border:none;border-radius:50px;font-size:1.1em;cursor:pointer;transition:transform .2s,box-shadow .2s;box-shadow:0 4px 15px rgba(0,0,0,.1)}.boton-opcion:hover,.boton-jugar:hover{transform:scale(1.05);box-shadow:0 6px 20px rgba(0,0,0,.15)}.input-secreto{width:80%;padding:12px;border:2px solid #ddd;border-radius:10px;text-align:center;font-size:1.2em;margin-top:10px;background-color:var(--input-bg);color:var(--text-color)}.input-secreto:focus{outline:none;border-color:var(--accent-color)}#mensajeFinal{background-color:#e8f5e9;color:#388e3c;padding:20px;border-radius:15px;border:2px solid var(--secondary-color);font-size:1.2em;margin-top:20px}#music-toggle{position:fixed;bottom:15px;right:15px;width:50px;height:50px;background-color:rgba(255,255,255,0.8);border:2px solid var(--primary-color);border-radius:50%;font-size:24px;cursor:pointer;z-index:1000;display:flex;justify-content:center;align-items:center}#confetti-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999}.mapa-container{margin-top:20px;border-radius:15px;overflow:hidden;border:3px solid var(--accent-color)}.mapa-container iframe{width:100%;height:300px;border:0}@media (max-width:600px){h1{font-size:1.8em}h2{font-size:1.8em}p{font-size:1em}.capibara-imagen{width:150px;height:150px}.invitacion::before,.invitacion::after{font-size:30px}}.popup-container{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--popup-bg);border:4px solid var(--popup-border);border-radius:15px;padding:20px;text-align:center;box-shadow:0 8px 16px rgba(0,0,0,0.2);z-index:1001;display:none}.popup-message{color:var(--popup-text);font-size:1.2em;margin-bottom:15px}.popup-button{background-color:var(--secondary-color);color:white;border:none;border-radius:10px;padding:10px 20px;font-size:1em;cursor:pointer;transition:background-color 0.2s}.popup-button:hover{background-color:#59a15e}.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);z-index:1000;display:none}
    </style>
</head>
<body>
    
    <main class="invitacion">
        <div id="paso1" class="paso">
            <h1>¬°Una Misi√≥n de Cumplea√±os!</h1>
            <p>El capibara Valent√≠n te necesita para llegar a la fiesta de:</p>
            <h2 style="font-size: 3em;">Ema Valentina</h2>
            <p>¬°Que celebra sus <strong>5 A√ëOS</strong>!</p>
            
            <div class="capibara-imagen" id="capibara" role="img" aria-label="Ilustraci√≥n animada de un capibara amigable" style="background-image: url('https://github.com/elmejorequipo/invitacion/blob/main/capibara01.png?raw=true');"></div>
            
            <p><strong>Haz clic en Valent√≠n para empezar la aventura.</strong></p>
        </div>

        <div id="paso2" class="paso oculto">
            <h2>Paso 1: ¬°Elige el accesorio!</h2>
            <p>Valent√≠n quiere verse genial para la fiesta. ¬øQu√© accesorio deber√≠a usar?</p>
            <div class="opciones-container">
                <button class="boton-opcion" onclick="mostrarPopup('¬°No, eso no es muy de capibara! Intenta de nuevo.')">Un sombrero de copa</button>
                <button class="boton-opcion" onclick="revisarRespuesta('correcta')">Unas gafas de sol üï∂Ô∏è</button>
                <button class="boton-opcion" onclick="revisarRespuesta('incorrecta')">Una corbata de mo√±o</button>
            </div>
        </div>
        
        <div id="paso3" class="paso oculto">
            <h2>Paso 2: ¬°Lleg√≥ con estilo!</h2>
            <div class="capibara-imagen" style="background-image: url('https://github.com/elmejorequipo/invitacion/blob/main/capibara02.png?raw=true'); animation: none; cursor: default;"></div>
            <p>¬°Perfecto! Ahora, para encontrar la ubicaci√≥n, escribe el nombre de la cumplea√±era.</p>
            <input type="text" id="inputClave" class="input-secreto" placeholder="Nombre de la cumplea√±era...">
            <button class="boton-jugar" style="margin-top: 15px;" onclick="revisarClave()">Revelar Mapa</button>
        </div>

        <div id="paso4" class="paso oculto">
            <h2>¬°Misi√≥n Cumplida!</h2>
            <p>¬°Gracias a ti, Valent√≠n encontr√≥ el lugar de la fiesta!</p>
             <div class="pista">
                <strong>Fecha:</strong> Domingo 6 de Julio, 4:30 PM<br>
                <strong>Direcci√≥n:</strong> B. Villa Warnes | C. Alberto Ostria | N¬∞ 3445
            </div>
            <div class="mapa-container">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3799.390595292244!2d-63.1594916!3d-17.7699313!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x93f1e7f6074a3f71%3A0x6a38b5f63920c85!2sAlberto%20Ostria%20Guti%C3%A9rrez%203445%2C%20Santa%20Cruz%20de%20la%20Sierra%2C%20Bolivia!5e0!3m2!1ses-419!2s!4v1679948256333!5m2!1ses-419!2s" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
            <div id="mensajeFinal">
                <p><strong>¬°Te esperamos para celebrar!</strong> üéâ</p>
            </div>
        </div>
    </main>

    <button id="music-toggle">üéµ</button>
    <audio id="background-music" loop>
        <source src="https://cdn.pixabay.com/download/audio/2022/08/17/audio_313c64c831.mp3" type="audio/mpeg">
    </audio>
    <canvas id="confetti-canvas"></canvas>

    <div id="popup" class="popup-container" style="display: none;">
        <p id="popup-message" class="popup-message"></p>
        <button id="popup-button" class="popup-button">Entendido</button>
    </div>
    <div id="overlay" class="overlay"></div>

    <script>
        // --- NAVEGACI√ìN DE LA AVENTURA ---
        const pasos = document.querySelectorAll('.paso');
        const capibara = document.getElementById('capibara');
        const popupContainer = document.getElementById('popup');
        const popupMessage = document.getElementById('popup-message');
        const popupButton = document.getElementById('popup-button');
        const overlay = document.getElementById('overlay');

        function mostrarPaso(numeroPaso) {
            pasos.forEach((paso, index) => {
                paso.classList.toggle('oculto', index !== numeroPaso - 1);
            });
        }

        capibara.addEventListener('click', () => {
            mostrarPaso(2);
            // Intentar reproducir m√∫sica en la primera interacci√≥n del usuario
            if (backgroundMusic.paused) {
                backgroundMusic.play().catch(e => console.log("El navegador bloque√≥ la reproducci√≥n autom√°tica. El usuario debe activar el sonido manualmente."));
                musicToggle.textContent = 'üîá';
            }
        });

        let siguientePaso = 0;
        popupButton.addEventListener('click', () => {
            popupContainer.style.display = 'none';
            overlay.style.display = 'none';
            if (siguientePaso > 0) {
                mostrarPaso(siguientePaso);
                siguientePaso = 0;
            }
        });
        
        function mostrarPopup(mensaje, pasoSiguiente = 0) {
            popupMessage.textContent = mensaje;
            popupContainer.style.display = 'block';
            overlay.style.display = 'block';
            siguientePaso = pasoSiguiente;
        }

        function revisarRespuesta(respuesta) {
            if (respuesta === 'correcta') {
                mostrarPopup('¬°Excelente elecci√≥n! Valent√≠n se ve genial. ¬°Vamos al siguiente paso!', 3);
            } else {
                mostrarPopup('Mmm... no creo que a Valent√≠n le guste eso. ¬°Intenta de nuevo!');
            }
        }
        
        function revisarClave() {
            const claveInput = document.getElementById('inputClave');
            if (claveInput.value.trim().toLowerCase() === 'ema') {
                mostrarPopup('¬°Correcto! ¬°Has desbloqueado la ubicaci√≥n secreta!', 4);
                startConfetti();
            } else {
                mostrarPopup('¬°Esa no es la palabra secreta! Pista: Es un nombre corto y bonito üòâ');
            }
        }

        // --- CONTROL DE M√öSICA ---
        const musicToggle = document.getElementById('music-toggle');
        const backgroundMusic = document.getElementById('background-music');
        backgroundMusic.volume = 0.3;

        musicToggle.addEventListener('click', () => {
            if (backgroundMusic.paused) {
                backgroundMusic.play().catch(e => console.log("Reproducci√≥n autom√°tica bloqueada."));
                musicToggle.textContent = 'üîá';
            } else {
                backgroundMusic.pause();
                musicToggle.textContent = 'üéµ';
            }
        });

        // --- SCRIPT DE CONFETI ---
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        let confettiInterval;

        const confettiParticles = [];
        const colors = ["#ff8b94", "#63d471", "#ffcc5c", "#a8e6cf", "#ffffff"];

        function startConfetti() {
            if (confettiInterval) return; // Evita iniciar m√∫ltiples veces
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            for (let i = 0; i < 200; i++) {
                confettiParticles.push(createConfetti());
            }
            
            confettiInterval = setInterval(drawConfetti, 1000 / 60);
        }

        function createConfetti() {
            return {
                x: Math.random() * canvas.width,
                y: Math.random() * -canvas.height,
                size: Math.random() * 5 + 5,
                color: colors[Math.floor(Math.random() * colors.length)],
                speed: Math.random() * 3 + 2,
                opacity: Math.random() * 0.5 + 0.5,
                angle: Math.random() * 2 * Math.PI,
                spin: (Math.random() - 0.5) * 0.2
            };
        }

        function drawConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            confettiParticles.forEach((p, i) => {
                ctx.save();
                ctx.fillStyle = p.color;
                ctx.globalAlpha = p.opacity;
                ctx.translate(p.x, p.y);
                ctx.rotate(p.angle);
                ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size);
                ctx.restore();
                
                p.y += p.speed;
                p.angle += p.spin;

                if (p.y > canvas.height + 20) {
                    confettiParticles[i] = createConfetti();
                    confettiParticles[i].y = -10;
                }
            });
        }
    </script>
</body>
</html>
